import{a as e}from"./axios-baa3c49b.js";import{u as t}from"./index-483d466e.js";import{e as o}from"./element-plus-203e699c.js";const a=()=>Date.now()-Number(localStorage.getItem("token-time"))>72e5,s=e.create({baseURL:"https://www.fastmock.site/mock/bd48ce8ff97bf753ed1f2f5244a68d98/vue3_ts",timeout:5e3,headers:{"Content-Type":"application/json;charest=utf-8"}});s.interceptors.request.use((e=>(e.headers=e.headers||{},localStorage.getItem("token")&&(e.headers.token=localStorage.getItem("token")||"",a())?(t().logOut(),o("Token已过期,请重新登录!")):e)),(e=>{throw e})),s.interceptors.response.use((e=>200!=e.data.code?Promise.reject():e.data),(e=>{throw e}));const r=e.create({timeout:3e3,headers:{"Content-Type":"application/json;charest=utf-8"}}),n=e=>s({url:"/login",method:"POST",data:e}),c=()=>s({url:"/menuList",method:"GET"}),m=()=>r({url:"http://localhost:5000/index",method:"GET"}),h=()=>r({url:"http://localhost:5000/UserTime",method:"GET"}),i=()=>r({url:"http://api.btstu.cn/yan/api.php?charset=utf-8&encode=json",method:"GET"});export{i as G,n as L,c as M,h as a,m as b};
